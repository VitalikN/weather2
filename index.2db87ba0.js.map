{"mappings":"AAIA,MAQMA,EAAOC,SAASC,cAAc,cAC9BC,EAAOF,SAASC,cAAc,YA2DpC,SAASE,EAAoBC,GAC3B,MAAMC,EAAS,mBAAmBD,2IAIlCF,EAAKI,UAAYD,C,CA/DnBN,EAAKQ,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAIC,iBACJ,MAAMC,MAAEA,EAAKC,KAAEA,GAASH,EAAII,cAAcC,SAE1C,IAAIH,EAAMI,MAKR,OAAOX,EAAoBC,MAI/B,SAAoBW,EAAMJ,GAGxB,OAAOK,MACL,mFAA2CD,UAAaJ,wBACxDM,MAAKC,IACL,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAMF,EAAIG,YAEtB,OAAOH,EAAII,MAAM,G,EAjBjBC,CAAWb,EAAMI,MAAOH,EAAKG,OAC1BG,MAAKO,GAmBZ,UAAwBC,UAAUC,KAAEA,GAAQC,UAAYC,YAAaC,KACnE,MAAMxB,EAASwB,EAAIC,KACjB,EAACC,KACCA,EACAC,KAAKC,UACHA,EAASC,UACTA,EACAC,WAAWC,KAAEA,EAAIC,KAAEA,OAGrB,iHAEmCX,iFAGGK,uGAIpBM,WAAcD,4FAGYF,OAAeD,2DAExBG,YAIvClC,EAAKI,UAAYD,C,CA/CCiC,CAAad,KAC1Be,OAAMnC,GAAOD,EAAoBC,I","sources":["src/index.js"],"sourcesContent":["// Key: 21458dcfb4bc4b14b6793403222812\n\nimport './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n//\n// const response = fetch(\n//   `http://api.weatherapi.com/v1/forecast.json?key=21458dcfb4bc4b14b6793403222812&q=lviv&days=10&aqi=yes&alerts=yes`\n// );\n\n// response.then(res => res.json()).then(data => console.log(data));\n\nconst form = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n  const { query, days } = evt.currentTarget.elements;\n  // console.log(query.value, days.value);\n  if (query.value) {\n    weatherApi(query.value, days.value)\n      .then(data => createMarkup(data))\n      .catch(err => createErrorMassager(err));\n  } else {\n    return createErrorMassager(err);\n  }\n}\n\nfunction weatherApi(city, days) {\n  const BASE__KEY = 'http://api.weatherapi.com/v1';\n  const key = '21458dcfb4bc4b14b6793403222812';\n  return fetch(\n    `${BASE__KEY}/forecast.json?key=${key}&q=${city}&days=${days}&aqi=yes&alerts=yes`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res.json();\n  });\n}\nfunction createMarkup({ location: { name }, forecast: { forecastday: arr } }) {\n  const markup = arr.map(\n    ({\n      date,\n      day: {\n        maxtemp_c,\n        mintemp_c,\n        condition: { text, icon },\n      },\n    }) =>\n      ` <div class=\"weather__header\">\n          <div class=\"weather__main\">\n            <div class=\"weather__city\">${name}\n           \n            </div>\n             <div class = 'weather__date'>${date}</div>\n          \n          </div>\n          <div class=\"weather__icon\">\n            <img src=\"${icon}\" alt=\"${text}\" />\n          </div>\n        </div>\n        <div class=\"weather__temp\">Temperature: ${mintemp_c} - ${maxtemp_c}</div>\n      \n          <div class=\"weather__status\">${text}</div>`\n  );\n  // <div class=\"weather__feels-like\">feels-like: </div>;\n\n  list.innerHTML = markup;\n}\n\nfunction createErrorMassager(err) {\n  const markup = `<div>Type error:${err}\n  <img src='https://www.webempresa.com/wp-content/uploads/2021/02/error-400-que-es-como-solucionar.png' alt=\"\" width='400px'>\n</div>`;\n\n  list.innerHTML = markup;\n}\n"],"names":["$1f0dc3b9307be026$var$form","document","querySelector","$1f0dc3b9307be026$var$list","$1f0dc3b9307be026$var$createErrorMassager","err","markup","innerHTML","addEventListener","evt","preventDefault","query","days","currentTarget","elements","value","city","fetch","then","res","ok","Error","statusText","json","$1f0dc3b9307be026$var$weatherApi","data","location","name","forecast","forecastday","arr","map","date","day","maxtemp_c","mintemp_c","condition","text","icon","$1f0dc3b9307be026$var$createMarkup","catch"],"version":3,"file":"index.2db87ba0.js.map"}