{"mappings":"YAIA,IAQMA,EAAOC,SAASC,cAAc,cAC9BC,EAAOF,SAASC,cAAc,YA2DpC,SAASE,EAAoBC,GAC3B,IAAMC,EAAS,mBAAuBC,OAAJF,EAAI,6IAItCF,EAAKK,UAAYF,C,CA/DnBN,EAAKS,iBAAiB,UAEtB,SAAkBC,GAChBA,EAAIC,iBACJ,IAAwBC,EAAAF,EAAIG,cAAcC,SAAlCC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,KAEXD,EAAME,MASZ,SAAoBC,EAAMF,GACxB,IACMG,EAAM,iCACZ,OAAOC,MACL,GAAkCb,OAHlB,+BAGH,uBAA8BA,OAATY,EAAI,OAAkBZ,OAAbW,EAAK,UAAaX,OAALS,EAAK,wBAC7DK,MAAK,SAAAC,GACL,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAMF,EAAIG,YAEtB,OAAOH,EAAII,M,IAjBXC,CAAWZ,EAAME,MAAOD,EAAKC,OAC1BI,MAAK,SAAAO,G,OAmBYC,GAAFC,EAnBWF,GAmBTG,SAAYF,KAC5BvB,EADcwB,EAAsBE,SAAYC,YACnCC,KACjB,SAAAC,G,IACEC,EAAID,EAAJC,KAAIC,EAAAF,EACJG,IACEC,EAASF,EAATE,UACAC,EAASH,EAATG,UAASC,EAAAJ,EACTK,UAAaC,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,K,MAGrB,iHAKsCrC,OAHHsB,EAAK,iFAOtBtB,OAJoB6B,EAAK,uGAIX7B,OAAdqC,EAAK,WAGqBrC,OAHZoC,EAAK,4FAGsBpC,OAAfiC,EAAU,OAEnBjC,OAFwBgC,EAAU,2DAE7BhC,OAALoC,EAAK,S,SAI5CxC,EAAKK,UAAYF,GA5BnB,IAAsBwB,EAAED,EAChBvB,C,IAnBDuC,OAAM,SAAAxC,G,OAAOD,EAAoBC,E,IAEpCD,EAAoBC,I","sources":["src/index.js"],"sourcesContent":["// Key: 21458dcfb4bc4b14b6793403222812\n\nimport './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n//\n// const response = fetch(\n//   `http://api.weatherapi.com/v1/forecast.json?key=21458dcfb4bc4b14b6793403222812&q=lviv&days=10&aqi=yes&alerts=yes`\n// );\n\n// response.then(res => res.json()).then(data => console.log(data));\n\nconst form = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n  const { query, days } = evt.currentTarget.elements;\n  // console.log(query.value, days.value);\n  if (query.value) {\n    weatherApi(query.value, days.value)\n      .then(data => createMarkup(data))\n      .catch(err => createErrorMassager(err));\n  } else {\n    createErrorMassager(err);\n  }\n}\n\nfunction weatherApi(city, days) {\n  const BASE__KEY = 'http://api.weatherapi.com/v1';\n  const key = '21458dcfb4bc4b14b6793403222812';\n  return fetch(\n    `${BASE__KEY}/forecast.json?key=${key}&q=${city}&days=${days}&aqi=yes&alerts=yes`\n  ).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res.json();\n  });\n}\nfunction createMarkup({ location: { name }, forecast: { forecastday: arr } }) {\n  const markup = arr.map(\n    ({\n      date,\n      day: {\n        maxtemp_c,\n        mintemp_c,\n        condition: { text, icon },\n      },\n    }) =>\n      ` <div class=\"weather__header\">\n          <div class=\"weather__main\">\n            <div class=\"weather__city\">${name}\n           \n            </div>\n             <div class = 'weather__date'>${date}</div>\n          \n          </div>\n          <div class=\"weather__icon\">\n            <img src=\"${icon}\" alt=\"${text}\" />\n          </div>\n        </div>\n        <div class=\"weather__temp\">Temperature: ${mintemp_c} - ${maxtemp_c}</div>\n      \n          <div class=\"weather__status\">${text}</div>`\n  );\n  // <div class=\"weather__feels-like\">feels-like: </div>;\n\n  list.innerHTML = markup;\n}\n\nfunction createErrorMassager(err) {\n  const markup = `<div>Type error:${err}\n  <img src='https://www.webempresa.com/wp-content/uploads/2021/02/error-400-que-es-como-solucionar.png' alt=\"\" width='400px'>\n</div>`;\n\n  list.innerHTML = markup;\n}\n"],"names":["$b8f9b7833fa37166$var$form","document","querySelector","$b8f9b7833fa37166$var$list","$b8f9b7833fa37166$var$createErrorMassager","err","markup","concat","innerHTML","addEventListener","evt","preventDefault","_elements","currentTarget","elements","query","days","value","city","key","fetch","then","res","ok","Error","statusText","json","$b8f9b7833fa37166$var$weatherApi","data","name","param1","location","forecast","forecastday","map","param","date","_day","day","maxtemp_c","mintemp_c","_condition","condition","text","icon","catch"],"version":3,"file":"index.6df55e87.js.map"}